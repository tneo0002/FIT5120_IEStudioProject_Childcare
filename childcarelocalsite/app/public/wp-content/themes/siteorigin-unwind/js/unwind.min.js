jQuery(function(n){n("body.no-js").removeClass("no-js"),n.fn.unwindIsVisible=function(){return 0<=this[0].getBoundingClientRect().top},n.fn.unwindAdminIsVisible=function(){return 600<n("body").innerWidth()?n("#wpadminbar")[0].getBoundingClientRect().bottom<this[0].getBoundingClientRect().top:0<=n("#wpadminbar")[0].getBoundingClientRect().bottom},n(document).ready(function(){"function"==typeof n.fn.flexslider&&(n(".featured-posts-slider").flexslider({animation:"slide",controlNav:!1}),n(".gallery-format-slider").flexslider({animation:"slide"}))}),void 0!==n.fn.fitVids&&n(".entry-content, .entry-content .panel, .entry-video, .woocommerce #main").fitVids({ignore:".tableauViz"}),n("#search-button").on("click",function(t){t.preventDefault();var o=n(this);o.toggleClass("close-search"),n("input[type='search']").each(function(){n(this).attr("size",n(this).attr("placeholder").length)});function e(){var t=n(window).width(),o=n(window).height(),e=n(".top-bar"),i=e.position().top+e.outerHeight();n("#fullscreen-search").css({top:i+"px",height:o-i+"px",width:t+"px"})}e(),n(window).on("resize",e),o.hasClass("close-search")?(n("body").css("margin-right",window.innerWidth-n("body").width()+"px"),n("body").css("overflow","hidden")):(n("body").css("overflow",""),n("body").css("margin-right","")),n("#fullscreen-search").slideToggle("fast"),n("#fullscreen-search input").trigger("focus")}),n("#fullscreen-search-form").on("submit",function(){n(this).find("button svg").hide(),n(this).find("button svg:last-child").show()}),n(document).on("keyup",function(t){27==t.keyCode&&n("#search-button.close-search").trigger("click")});var e=!1;n("#mobile-menu-button").on("click",function(t){t.preventDefault(),n("#search-button.close-search").trigger("click"),n(this).toggleClass("to-close");var o=n("#mobile-navigation");!1===e&&(e=o.append(n(".main-navigation ul").first().clone()).appendTo(o).hide()),n(".main-navigation .shopping-cart").length&&!o.find(".shopping-cart-link").length&&e.append(n(".main-navigation .shopping-cart .shopping-cart-link").clone()),e.slideToggle("fast"),e.find(".menu-item-has-children > a:not(.has-dropdown-button)").addClass("has-dropdown-button").after('<button class="dropdown-toggle" aria-expanded="false"><svg version="1.1" class="svg-icon-submenu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><path d="M30.054 14.429l-13.25 13.232q-0.339 0.339-0.804 0.339t-0.804-0.339l-13.25-13.232q-0.339-0.339-0.339-0.813t0.339-0.813l2.964-2.946q0.339-0.339 0.804-0.339t0.804 0.339l9.482 9.482 9.482-9.482q0.339-0.339 0.804-0.339t0.804 0.339l2.964 2.946q0.339 0.339 0.339 0.813t-0.339 0.813z"></path></svg></button>'),e.find(".menu-item-has-children a").width("100%")}),n("#mobile-navigation").on("click",".dropdown-toggle",function(t){t.preventDefault(),n(this).next("ul").slideToggle("300ms"),"false"==n(this).attr("aria-expanded")?n(this).attr("aria-expanded","true"):n(this).attr("aria-expanded","false")}),n("#mobile-navigation").on("click",".has-dropdown-button",function(t){void 0!==n(this).attr("href")&&"#"!=n(this).attr("href")||(t.preventDefault(),n(this).siblings("ul").slideToggle("300ms"),"false"==n(this).siblings(".dropdown-toggle").attr("aria-expanded")?n(this).siblings(".dropdown-toggle").attr("aria-expanded","true"):n(this).siblings(".dropdown-toggle").attr("aria-expanded","false"))}),n("#mobile-navigation").on("click",'.menu-item a[href*="#"]:not([href="#"])',function(){e.slideToggle("fast")});function t(){var t=window.pageYOffset||document.documentElement.scrollTop;(n("#masthead").length?n("#masthead").outerHeight():n(window).outerHeight()/2)<t?n("#scroll-to-top").hasClass("show")||n("#scroll-to-top").css("pointer-events","auto").addClass("show"):n("#scroll-to-top").hasClass("show")&&n("#scroll-to-top").css("pointer-events","none").removeClass("show")}if(t(),n(window).on("scroll",t),n("#scroll-to-top").on("click",function(){n("html, body").animate({scrollTop:0})}),n(".sticky-bar").hasClass("sticky-menu")){var o=!1,i=(n("#page").offset().top,n(".sticky-bar"));n("#masthead"),n("#wpadminbar");$sbh=i.outerHeight();function s(){!1===o&&(o=n('<div class="sticky-bar-sentinel"></div>').insertBefore(i)),n("body").hasClass("admin-bar")?(o.unwindAdminIsVisible()||n("body").addClass("sticky-bar-out"),n("body").hasClass("sticky-bar-out")&&o.unwindAdminIsVisible()&&n("body").removeClass("sticky-bar-out")):(o.unwindIsVisible()||n("body").addClass("sticky-bar-out"),n("body").hasClass("sticky-bar-out")&&o.unwindIsVisible()&&n("body").removeClass("sticky-bar-out")),n("body").hasClass("sticky-bar-out")?n(".sticky-bar-sentinel").height($sbh):n(".sticky-bar-sentinel").height(0)}s(),n(window).on("resize scroll",s)}("ontouchstart"in document.documentElement||window.navigator.msMaxTouchPoints||window.navigator.MaxTouchPoints)&&(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(n("body").css("cursor","pointer"),n("body").addClass("ios")),n(".main-navigation #primary-menu").find(".menu-item-has-children > a").each(function(){n(this).on("click touchend",function(t){var o=n(this);t.stopPropagation(),"click"!=t.type&&(o.parent().hasClass("hover")||(n(".menu-item.hover").removeClass("hover"),o.parents(".menu-item").addClass("hover"),t.preventDefault()),n(document).one("click",function(){o.parent().removeClass("hover")}))})})),n("#portfolio-loop").length&&($infinite_scroll=0,n(document.body).on("post-load",function(){var t=n("#portfolio-loop");$infinite_scroll+=1;t=n("#projects-container");var o=n("#infinite-view-"+$infinite_scroll).find(".jetpack-portfolio.post");o.hide(),t.append(o).isotope("appended",o)}))}),function(e){e(window).on("load",function(){e(".blog-layout-masonry").length&&e(".blog-layout-masonry").masonry({itemSelector:".archive-entry",columnWidth:".archive-entry",horizontalOrder:!0});var o=e("#projects-container");e(".portfolio-filter-terms").length&&o.isotope({itemSelector:".post",filter:"*",layoutMode:"fitRows",resizable:!0}),e(".portfolio-filter-terms button").on("click",function(){var t=e(this).attr("data-filter");return o.isotope({filter:t}),e(".portfolio-filter-terms button").removeClass("active"),e(this).addClass("active"),!1})})}(jQuery);