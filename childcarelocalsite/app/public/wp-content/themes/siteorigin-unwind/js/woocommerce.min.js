jQuery(function(r){r.fn.triggerQuantityButtons=function(){return this.each(function(t,i){!function(t){r(t).find(".quantity:not(.button-controls)").addClass("button-controls").prepend('<input type="button" value="-" class="subtract" />').append('<input type="button" value="+" class="add" />'),r(t).on("click",".add, .subtract",function(){var t=r(this).closest(".quantity").find(".qty"),i=parseFloat(t.val()),o=parseFloat(t.attr("max")),n=parseFloat(t.attr("min")),e=t.attr("step");r(this).is(".add")?o<=i?t.val(o):t.val(i+parseFloat(e)):r(this).is(".subtract")&&(i<=n?t.val(n):0<i&&t.val(i-parseFloat(e))),t.trigger("change")})}(i)})},r("table.shop_table, .product form.cart").triggerQuantityButtons(),r(document).on("updated_cart_totals",function(){r("table.shop_table, .product form.cart").triggerQuantityButtons()}),r("table.shop_table").removeClass("shop_table_responsive"),r(".woocommerce-ordering select").each(function(){var i=r(this),o=r("<div></div>").html('<span class="current">'+i.find(":selected").html()+"</span>"+so_unwind_data.chevron_down).addClass("ordering-selector-wrapper").insertAfter(i),t=r("<div/>").addClass("ordering-dropdown-container").appendTo(o),n=r("<ul></ul>").addClass("ordering-dropdown").appendTo(t),e=0;i.find("option").each(function(){var t=r(this);n.append(r("<li></li>").html(t.html()).data("val",t.attr("value")).on("click",function(){i.val(r(this).data("val")),i.closest("form").trigger("submit")})),e=Math.max(o.find(".current").html(t.html()).width(),e)}),o.find(".current").html(i.find(":selected").html()).width(e),i.hide()}),r(".ordering-selector-wrapper").on("click",function(){r(this).toggleClass("open-dropdown")}),r(window).on("click",function(t){r(t.target).closest(".ordering-selector-wrapper.open-dropdown").length||r(".ordering-selector-wrapper.open-dropdown").removeClass("open-dropdown")}),r(".product-quick-view-button").on("click",function(t){t.preventDefault();var o="#quick-view-container",n="#product-quick-view",i=r(this).attr("data-product-id");r.post(so_unwind_data.ajaxurl,{action:"so_product_quick_view",product_id:i},function(t){r(document).find(o).find(n).html(t),r(document).find("#product-quick-view .cart").triggerQuantityButtons(),r(document).find("#product-quick-view .variations_form").wc_variation_form(),r(document).find("#product-quick-view .variations_form").trigger("check_variations"),r("body").hasClass("woo-variation-swatches")||r(so_unwind_data.chevron_down).insertAfter("#product-quick-view .variations_form select")}),r(document).ajaxComplete(function(){"function"==typeof r.fn.flexslider&&(r(".product-images-slider").flexslider({animation:"slide",animationLoop:!0,slideshow:!1,customDirectionNav:r(this).find(".flex-direction-nav a")}),r("#product-quick-view .variations_form").on("found_variation.wc-variation-form",function(t,i){if(i&&i.image&&i.image.full_src){var o=r("#product-quick-view .product-gallery-image").find('img[src="'+i.image.full_src+'"]');0<o.length?r(".product-images-slider").flexslider(o.parent().index(".product-images-slider  .slide")-1):r(".product-images-slider").flexslider(0)}}),r("#product-quick-view .variations_form").on("reset_image",function(t,i){r(".product-images-slider").flexslider(0)}))}),r(document).find(o).is(":hidden")&&r(document).find(o).find(n).empty(),r(document).find(o).fadeIn(300),r("body").css("margin-right",window.innerWidth-r("body").width()+"px"),r("body").css("overflow","hidden"),r(window).on("mouseup",function(t){var i=r(n);(!i.is(t.target)&&0===i.has(t.target).length||r(".quickview-close-icon").is(t.target))&&(r(o).fadeOut(300),r("body").css("overflow",""),r("body").css("margin-right",""))}),r(document).on("keyup",function(t){r(n);27==t.keyCode&&(r(o).fadeOut(300),r("body").css("overflow",""),r("body").css("margin-right",""))})}),r("body").hasClass("woo-variation-swatches")||r(so_unwind_data.chevron_down).insertAfter(".variations select")});